<!DOCTYPE html>
<html lang="pt-BR">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Já está na hora de começar a usar essas features do C# 6!</title>
  <meta name="description" content="A sétima versão do C# está chegando, e vai provavelmente trazer várias funcionalidades novas e úteis para nossas  caixas de ferramentas. Mas deixa eu pergunt...">
  
  <!-- Twitter card -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:creator" content="@carlosschults">
  <meta name="twitter:site" content="@carlosschults">
  <meta name="twitter:domain" content="carlosschults.net">
  <meta name="twitter:title" content="Já está na hora de começar a usar essas features do C# 6!">
  <meta name="twitter:description" content="A sétima versão do C# está chegando, e vai provavelmente trazer várias funcionalidades novas e úteis para nossas  caixas de ferramentas. Mas deixa eu pergunt...">

   <!-- Facebook meta -->
  
  
  <meta property="og:title" content="Já está na hora de começar a usar essas features do C# 6!">
  <meta property="og:site_name" content="Carlos Schults / Blog" />
  <meta property="og:locale" content="pt_BR">  
  <meta property="og:type" content="article" />
  <meta property="og:image" content="http://res.cloudinary.com/dz5ppacuo/image/upload/v1487896790/csharp6features_y5czrf.jpg" />  
  <meta property="og:image:type" content="image/jpeg">
  <meta property="og:image:width" content="1038"> 
  <meta property="og:image:height" content="437">  
  
  <meta property="og:article:published_time" content="2017-03-06T00:00:00-03:00" />  
  <meta property="og:article:author" content="Carlos Schults" />
  
  <meta property="og:article:tag" content="csharp" />
  <meta property="og:article:tag" content="iniciantes" />    
  
  <meta property="og:url" content="http://carlosschults.net/pt/funcionalidades-csharp-6/"/>
  <meta property="og:description" content="A sétima versão do C# está chegando, e vai provavelmente trazer várias funcionalidades novas e úteis para nossas  caixas de ferramentas. Mas deixa eu pergunt...">
  <link rel="stylesheet" href="/css/main.css">  
  
   <link rel="canonical" href="http://carlosschults.net/pt/funcionalidades-csharp-6/">
   
  
  <link rel="alternate" hreflang="en" href="/en/csharp-6-features/" />
  <link rel="alternate" hreflang="pt" href="/pt/funcionalidades-csharp-6/" />
  
  <link rel="alternate" type="application/rss+xml" title="carlos schults / blog" href="http://carlosschults.net/rss.xml">
</head>

  <body>

    <header class="site-header">
  <div class="wrapper">    
    <a class="site-title" href="/pt/">carlos schults / blog</a>
    
    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">        
          
          <a class="page-link" href="/sobre/">Sobre</a>
          <a class="page-link" href="/busca/">Busca</a>
                  
      </div>
    </nav>

  </div>

</header>

<div class="wrapper" style="text-align: right; line-height: 2em">
  
   <a href="/en/csharp-6-features/" class="en">en</a>  <a href="/pt/funcionalidades-csharp-6/" class="pt">pt</a> 

  
  
</div>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">    
    <h2 class="postTitle" itemprop="headline">Já está na hora de começar a usar essas features do C# 6!</h2>
    <p class="post-meta">   
    <time datetime="2017-03-06T00:00:00-03:00" itemprop="datePublished">06/03/2017
    </time> • <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span itemprop="name">Carlos Schults</span></span>
  <span class="tags" itemprop="keywords"> • Tags: <a href="/tag_ptbr/csharp">csharp </a> <a href="/tag_ptbr/iniciantes">iniciantes </a> </span>
  </p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p><img src="http://res.cloudinary.com/dz5ppacuo/image/upload/v1487896790/csharp6features_y5czrf.jpg" alt="" /></p>

<p>A sétima versão do C# está chegando, e vai provavelmente trazer várias funcionalidades novas e úteis para nossas  caixas de ferramentas. Mas deixa eu perguntar uma coisa: você já está usando as funcionalidades da versão anterior?
 <!--more--></p>

<p>Alguns dias atrás eu estava pensando sobre qual seria o tema do próximo post. Nada mais natural que escrever sobre o C# 7, já que <a href="https://blogs.msdn.microsoft.com/visualstudio/2017/02/09/visual-studio-2017-launch-event-and-20th-anniversary/">seu lançamento, junto com o Visual Studio 2017, é amanhã.</a></p>

<p>Mas então eu percebi que, mesmo já fazendo cerca de dois anos desde o lançamento do C# 6, alguns desenvolvedores ainda não se sentem confortáveis o suficiente com as funcionalidades da versão, de maneira a não incorporá-las em seu código.</p>

<p>Assim, eu decidi voltar um pouco e escrever sobre as funcionalidades do C# 6 no lugar disso. Não todas, mas aquelas que podem tornar seu código mais limpo e expressivo, e que são simples o suficiente para você já sair usando!</p>

<h2 id="interpolação-de-string">Interpolação de String</h2>

<p>Suponha que nós temos uma classe chamada <code class="highlighter-rouge">Person</code>, com duas propriedades somente-leitura, <code class="highlighter-rouge">Name</code> e <code class="highlighter-rouge">Age</code>. Algo assim:</p>

<script src="https://gist.github.com/carlosschults/84db03cd2a530530b72c4b9eeeb738d4.js"></script>

<p>Então nós adicionamos um método chamado <code class="highlighter-rouge">Introduce</code>, para que nossas pessoas sejam capazes de se apresentar. Para uma pessoa de 22 anos chamada Maria, o método deve retornar “Hi! My name is Maria and I’m 22 years old.”</p>

<p>Tem algumas maneiras diferentes de se fazer isso na versão 5 do C#, como você pode ver na seguinte listagem:</p>

<script src="https://gist.github.com/carlosschults/9e30324951420356397c5cc8f50ea51b.js"></script>

<p>Cada uma delas tem suas vantagens e desvantagens, claro, mas o C# 6 disponibiliza um novo jeito:</p>

<script src="https://gist.github.com/carlosschults/17f501bd6d0ce6f5938edf17ef8e8704.js"></script>

<p>Apenas coloque um cifrão no início da string, coloque suas variáveis dentro de chaves, e é isso!</p>

<p>Interpolação de strings não funciona para todas as ocasiões. Se você precisa de uma formatação especial nos valores, você ainda teria de usar <code class="highlighter-rouge">string.Format()</code>, por exemplo.</p>

<p>Mas no dia-a-dia, eu uso interpolação na maioria das vezes que preciso fazer concatenação de strings. Eu acho essa forma bem mais interessante e mais clara do que as outras opções.</p>

<h2 id="initializers-para-propriedades-automáticas">Initializers para propriedades automáticas</h2>

<p>Continuando com o exemplo anterior. Vamos supor que nós precisamos de um construtor sem parâmetros em nossa classe. Junto com isso, vamos precisar disponibilizar valores padrão para <code class="highlighter-rouge">Name</code> e <code class="highlighter-rouge">Age</code>.</p>

<p>Do contrário, o método <code class="highlighter-rouge">Introduce()</code> retornaria “Hi! My name is  and I’m 0 years old.” E não iríamos querer isso, né?</p>

<p>No C# 5, nós teríamos que inicializar as propriedades dentro do construtor:</p>

<script src="https://gist.github.com/carlosschults/d95cade5d8d5f245a1d6bb49ef2feb1f.js"></script>

<p>Já a sexta versão da linguagem nos permite definir valores padrão para as propriedades no mesmo momento em que as declaramos:</p>

<script src="https://gist.github.com/carlosschults/e7d56c032e723f7c5110a9e3bfa1c744.js"></script>

<h2 id="operador-condicional-nulo">Operador condicional nulo</h2>

<p>Considere o código a seguir:</p>

<script src="https://gist.github.com/carlosschults/7fb5caff2e73f4130f4db982825adbe6.js"></script>

<p>Nada demais, não é? Mas tem um problema esperando para acontecer aqui. Se <code class="highlighter-rouge">customer</code> é <code class="highlighter-rouge">null</code>, esse código vai disparar uma <code class="highlighter-rouge">NullReferenceException</code>.</p>

<p>É nesse momento que o “Operador condicional nulo” vem a calhar:</p>

<script src="https://gist.github.com/carlosschults/65bc4372a0e4fc3e8f38c0ee57905beb.js"></script>

<p>O que o código acima faz? Simples: se <code class="highlighter-rouge">customer</code> não é <code class="highlighter-rouge">nulo</code>, a propriedade <code class="highlighter-rouge">Address</code> é acessada normalmente, e seu valor é atribuído à nossa variável local. No entanto, se <code class="highlighter-rouge">customer</code> <em>é</em> <code class="highlighter-rouge">null</code>, a expressão toda é avaliada para nulo, e é isso que a variável recebe.</p>

<p>Outra coisa legal a respeito desse operador é que você pode usá-lo em conjunto com o <a href="https://msdn.microsoft.com/en-us/library/ms173224.aspx">Operador Null Coalesce</a> para disponibilizar, de maneira fácil, um valor default diferente de <code class="highlighter-rouge">null</code>.</p>

<script src="https://gist.github.com/carlosschults/e17d34ba939fb7c472e164010db56377.js"></script>

<h2 id="métodos-e-propriedades-expression-bodied">Métodos e propriedades “Expression-bodied”</h2>

<p>Essa é bem fácil. Trata-se de uma maneira mais curta de escrever métodos, utilizando a sintaxe das expressões lambda.</p>

<p>Por exemplo, os dois métodos a seguir fazem a mesma coisa:</p>

<script src="https://gist.github.com/carlosschults/eeae77f3876f9b692ca667281b5401d0.js"></script>

<p>Essa funcionalidade não é restrita a métodos. Ela também pode ser usada com propriedades (de apenas leitura) e indexadores.</p>

<h2 id="conclusão">Conclusão</h2>

<p>Parece claro que o objetivo da Microsoft  com a sexta versão do C# não era adicionar funcionalidades radicalmente novas à linguagem.</p>

<p>Ao invés disso, a intenção era permitir aos desenvolvedores escrever código de uma maneira mais clara e concisa. E em minha opinião, o objetivo foi alcançado.</p>

<p>Você pode pensar que algumas das funcionalidades não fazem tanta diferença, na prática. Eu discordo. C# é frequentemente acusado de ser muito verboso. Existem situações nas quais você precisa escrever uma quantidade razoável de código para fazer algo que em Ruby ou Python poderia ser feito em uma linha.</p>

<p>E isso é normal. Um pouco (a maioria) da já mencionada verbosidade vem do fato de C# ser uma linguagem estaticamente tipada, e eu digo: <strong>sou feliz por isso</strong>. Eu não consigo contar a quantidade de vezes que o compilador me salvou, pegando meus erros idiotas.</p>

<p>Se um pouco de verbosidade é o preço que tenho que pagar por isso, que seja.</p>

<p>Tudo isto dito, os detratores têm uma certa razão. É possível ser verboso <em>excessivamente</em>. Então, qualquer funcionalidade que me permite eliminar um pouco dessa verbosidade extra e escrever código mais conciso é muito bem vinda.</p>

<h2 id="veja-mais">Veja mais</h2>

<ul>
  <li><a href="http://geekswithblogs.net/WinAZ/archive/2015/06/30/whatrsquos-new-in-c-6.0-auto-property-initializers.aspx">http://geekswithblogs.net/WinAZ/archive/2015/06/30/whatrsquos-new-in-c-6.0-auto-property-initializers.aspx</a></li>
  <li><a href="https://msdn.microsoft.com/en-us/magazine/dn802602.aspx">https://msdn.microsoft.com/en-us/magazine/dn802602.aspx</a></li>
  <li><a href="http://blog.caelum.com.br/novidades-do-c-6-0/">http://blog.caelum.com.br/novidades-do-c-6-0/</a></li>
</ul>

    
    
      
    
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
                    
            <a rel="previous" class="previous" href="/pt/tipos-de-comentarios-a-evitar/">&larr; Aprenda quais tipos de comentários devem ser evitados </a>
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
        	    
            <a rel="next" class="next" href="/pt/funcionalidades-csharp-7/">Funcionalidades do C# 7 que vale a pena conhecer - Parte 1 &rarr;</a>
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
         
        
        
                
        
        
                
      
    <div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    /*
    var disqus_config = function () {
        this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        
        s.src = '//carlosschultsblog.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    
  </div>

</article>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">         
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/carlosschults"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">carlosschults</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/carlosschults"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">carlosschults</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Artigos sobre desenvolvimento de software, banco de dados e vários assuntos ligados à tecnologia.</p>
      </div>
    </div>

  </div>

</footer>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92788641-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>

</html>
