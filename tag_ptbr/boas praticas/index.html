<!DOCTYPE html>
<html lang="pt-BR">
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Tag: boas praticas</title>
  <meta name="description" content="Veja os posts marcados com 'boas praticas'">
  
  <!-- Twitter card -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:creator" content="@carlosschults">
  <meta name="twitter:site" content="@carlosschults">
  <meta name="twitter:domain" content="carlosschults.net">
  <meta name="twitter:title" content="Tag: boas praticas">
  <meta name="twitter:description" content="Veja os posts marcados com 'boas praticas'">

   <!-- Facebook meta -->
  
  
  <meta property="og:title" content="Tag: boas praticas">
  <meta property="og:site_name" content="Carlos Schults / Blog" />
  <meta property="og:locale" content="pt_BR">  
  <meta property="og:type" content="website" />
  
  <meta property="og:url" content="http://carlosschults.net/tag_ptbr/boas%20praticas/"/>
  <meta property="og:description" content="Veja os posts marcados com 'boas praticas'">
  <link rel="stylesheet" href="/css/main.css">  
  
   <link rel="canonical" href="http://carlosschults.net/tag_ptbr/boas%20praticas/">
   
  
  
  <link rel="alternate" hreflang="en" href="/tag/boas%20praticas/" />
  <link rel="alternate" hreflang="pt" href="/tag_ptbr/boas%20praticas/" />
  <link rel="alternate" type="application/rss+xml" title="carlos schults / blog" href="http://carlosschults.net/rss.xml">
</head>

  <body>

    <header class="site-header">
  <div class="wrapper">    
    <a class="site-title" href="/pt/">carlos schults / blog</a>
    
    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">        
          
          <a class="page-link" href="/sobre/">Sobre</a>
          <a class="page-link" href="/busca/">Busca</a>
                  
      </div>
    </nav>

  </div>

</header>

<div class="wrapper" style="text-align: right; line-height: 2em">
  
  

  
   <a href="/tag/boas%20praticas/" class="en">en</a>  <a href="/tag_ptbr/boas%20praticas/" class="pt">pt</a> 
</div>


    <div class="page-content">
      <div class="wrapper">
        <h2 class="post_title">Tag: boas praticas</h2>
  
  
  
  
  
  
  
    <span class="post-meta"><time datetime='11-07-2018'>11/07/2018</time></span> 
    <h2>
          <a class="post-link" href="/pt/4-erros-comuns-datetime-csharp/">4 Erros Comuns Com Data e Hora no C# — E como evitá-los</a>
    </h2>
    <div class="post-content">
    <p><img src="http://res.cloudinary.com/dz5ppacuo/image/upload/v1531165684/4-datetime-mistakes-1038x437_nm6csc.jpg" alt="" /></p>

<p><em>NOTA: Eu escrevi este post originalmente para o blog da SubMain.  Você pode <a href="https://blog.submain.com/4-common-datetime-mistakes-c-avoid/">conferir o original no site deles, em inglês</a>. Enquanto estiver por lá, dê uma conferida no CodeIt.Right, uma ferramenta que pode lhe ajudar com problemas relacionados a tempo e muitos outros.</em></p>

<p>Você se lembra daqueles posts no estilo “inverdades que programadores acreditam sobre <em>X</em>” que ficaram bastante populares em blogs de software há alguns anos? O primeiro foi sobre <a href="http://www.kalzumeus.com/2010/06/17/falsehoods-programmers-believe-about-names/">nomes</a>, mas logo apareceram vários outros, cobrindo tópicos como <a href="https://www.mjt.me.uk/posts/falsehoods-programmers-believe-about-addresses/">endereços</a>, <a href="https://wiesmann.codiferes.net/wordpress/?p=15187&amp;lang=en">geografia</a> e <a href="https://wiesmann.codiferes.net/wordpress/?p=22201">compras online</a>.</p>

<p>O meu favorito era <a href="http://infiniteundo.com/post/25326999628/falsehoods-programmers-believe-about-time">o post sobre tempo</a>. Até esse ponto, eu não havia pensado profundamente sobre tempo e e suas intricacies, e eu fiquei intrigado em saber que um domínio tão fundamental pudesse ser um terreno tão fértil para bugs e confusões.</p>

<p>Agora, mesmo eu tendo gostado do post, eu vejo um problema com ele: o post lista vários suposições erradas, e basicamente para por aí. Quem lê o artigo provavelmente termina se perguntando:</p>

<ul>
  <li>Por que essas suposições são falsas?</li>
  <li>Qual é a probabilidade de eu me dar mal por causa dessas inverdades?</li>
  <li>Qual é a maneira adequada de lidar com esses problemas?</li>
</ul>

<p>O artigo é interessante, mas eu acho que faria sentido oferecer informações um pouco mais acionáveis.</p>

<p>E é exatamente esse é o objetivo do post de hoje. Eu vou mostrar 4 erros comuns que as pessoas cometem ao lidar com tempo em C#/.NET. E não para por aí. Eu também vou mostrar o que você deve fazer para evitar esses erros e tornar seu código mais seguro e mais fácil de ser compreendido.</p>

<h2 id="1-calculando-durações-de-maneira-ingênua">1. Calculando Durações de Maneira Ingênua</h2>

<p>Considere o código abaixo:</p>

<script src="https://gist.github.com/carlosschults/3e18612b9a9238382b6d4fa3c574a231.js"></script>

<p>Ele funciona corretamente? Depende de onde e quando ele será executado.</p>

<p>Quando você usa <code class="highlighter-rouge">DateTime.Now</code>, o valor que você obtém representa a data e hora locais em relação à máquina atual (ou seja, a propriedade <code class="highlighter-rouge">Kind</code> está configurada para <code class="highlighter-rouge">Local</code>).</p>

<p>Se o lugar que você mora observa Horário de Verão, então você sabe que existe um dia do ano no qual você deve adiantar os relógios em uma certa medida (geralmente 1 hora, embora existam lugares que ajustam por outras quantidades). E é claro, existe também um dia no qual o oposto acontece.</p>

<p>Agora imagine o que seguinte: hoje é 12 de março de 2017, e você more na cidade de Nova York. Você começa a usar o programa acima. O método <code class="highlighter-rouge">StartMatch()</code> é executado exatamente às 13h. Uma hora e quinze minutos mais tarde, o método <code class="highlighter-rouge">EndMatch</code> é executado. O cálculo é realizado e o texto abaixo é exibido:</p>

<p><em>Duration of the match: 00:02:15</em></p>

<p>Eu imagino que você compreendeu o que aconteceu aqui: quando os relógios estavam prestes a marcar 14h, o Horário de Verão entrou em efeito, movendo-os diretamente para 15h. Então o método <code class="highlighter-rouge">EndMatch</code> recuperou o horário atual, somando uma hora adicional ao cálculo. Se o experimento tivesse acontecido no fim do Horário de Verão, o resultado seria apenas 15 minutos!</p>

<p>Sim, o código mostrado é apenas um exemplo, uma brincadeira. Mas e se fosse algo mais sério? Uma aplicação de folha de pagamento, digamos. Você gostaria de pagar o valor errado a um funcionário?</p>

<h3 id="o-que-fazer">O que fazer?</h3>

<p>Quando precisar calcular a duração de atividades humanas, use UTC para os tempos de início e fim. Dessa forma, você será capaz de <strong>referenciar de maneira não ambígua um ponto específico no tempo</strong>. Ao invés de usar a propriedade <code class="highlighter-rouge">Now</code>, use <code class="highlighter-rouge">UtcNow</code> para recuperar a data e hora já em formato UTC para realizar os cálculos:</p>

<script src="https://gist.github.com/carlosschults/82492845edaa8f8fc16c646ed2bbcf2a.js"></script>

<p>Mas e se os valores <code class="highlighter-rouge">DateTime</code> que você tem já são do tipo <code class="highlighter-rouge">Local</code>? Nesse caso, você deve usar o método <code class="highlighter-rouge">ToUniversalTime()</code> para convertê-los para UTC:</p>

<script src="https://gist.github.com/carlosschults/58837695af07386836753ef6541233aa.js"></script>

<h3 id="uma-rápida-advertência-sobre-touniversaltime">Uma Rápida Advertência Sobre <code class="highlighter-rouge">ToUniversalTime()</code></h3>

<p>O uso do método <code class="highlighter-rouge">ToUniversalTime()</code> - e seu irmão, <code class="highlighter-rouge">ToLocalTime()</code> - pode ser um pouco chato. O problema é que esses métodos fazem suposições sobre o que você quer baseados no valor da propriedade <code class="highlighter-rouge">Kind</code> do objeto datetime que você tem, o que pode trazer resultados inesperados.</p>

<p>Ao chamar <code class="highlighter-rouge">ToUniversalTime()</code>, uma das seguintes coisas vai acontecer:</p>

<ul>
  <li>Se <code class="highlighter-rouge">Kind</code> estiver configurado como UTC, o mesmo valor é retornado.</li>
  <li>Por outro lado, se estiver configurado como <code class="highlighter-rouge">Local</code>, então o valor correspondente em UTC é retornado.</li>
  <li>Finalmente, se <code class="highlighter-rouge">Kind</code> estiver como <code class="highlighter-rouge">Unspecified</code>, <strong>então é assumido que o objeto sempre teve a intenção de ser local,</strong>, e você recebe o valor correspondente à conversão para UTC.</li>
</ul>

<p>O problema aqui é que <a href="https://codeofmatt.com/2013/04/25/the-case-against-datetime-now/#localkindsdontroundtrip">valores de data/hora locais não não “transportáveis”</a>. Como assim? Eles são locais enquanto eles permanecerem no contexto da máquina atual. Se você salva um datetime local para um banco de dados e depois o recupera de lá, a informação de que ele é local se perde: agora ele é <code class="highlighter-rouge">Unspecified</code>.</p>

<p>Assim, o seguinte cenário pode acontecer:</p>

<ul>
  <li>Você recupera a data e hora atuais usando <code class="highlighter-rouge">DateTime.UtcNow</code>.</li>
  <li>Você salva esse valor no banco de dados.</li>
  <li>Outra parte do código recupera esse valor. Sem estar ciente de que o valor já está em UTC, chama o método <code class="highlighter-rouge">ToUniversalTime()</code> na instância.</li>
  <li>Como o valor recuperado do banco possui o tipo <code class="highlighter-rouge">Unspecified</code>, o método vai tratá-lo como local e realizar uma conversão desnecessária, gerando um valor errado.</li>
</ul>

<p>Como evitar que isso aconteça? Uma prática recomendada é usar UTC para armazenar o tempo em que um evento aconteceu. Minha sugestão é seguir esse conselho e também esse fato bem explícito. Coloque o sufixo “UTC” em cada coluna de tabela no banco de dados e também em nomes de propriedades que se referem a um valor em UTC. Ao invés de “Inclusao”, use “InclusaoUTC” e assim por diante. Não é tão bonito, mas com certeza é mais claro.</p>

<h2 id="2-não-usar-utc-quando-deveria-e-vice-versa">2. Não Usar UTC Quando Deveria (e vice-versa)</h2>

<p>Nós podemos definir isso como uma regra universal: use UTC para registrar quando eventos aconteceram. Ao logar, auditar, e registrar todo tipo de <em>timestamps</em> na sua aplicação, UTC é a resposta.</p>

<p>Então, é só usar UTC em todo lugar! Certo? Não, não tão rápido.</p>

<p>Digamos que você precisa ser capaz de reconstruir o tempo local - na perspectiva do usuário - de quando algo aconteceu, e a única informação que você tem é um <em>timestamp</em> em UTC. Mal dia.</p>

<p>Em casos assim, faria mais sentido (a) registrar o momento em UTC e gravar também o fuso horário do usuário ou (b) usar o tipo <code class="highlighter-rouge">DateTimeOffset</code>, que armazena a data/hora local junto com o deslocamento, ou <em>offset</em>, para UTC, permitindo que você reconstrua o valor em UTC quando precisar.</p>

<p>Outro caso de uso comum para o qual UTC não é a solução correta é  <a href="https://stackoverflow.com/questions/19626177/how-to-store-repeating-dates-keeping-in-mind-daylight-savings-time?noredirect=1&amp;lq=1">o agendamento de eventos locais no futuro</a>. Você não quer que seu alarme acorde você uma hora mais cedo ou uma hora mais tarde nos dias de transição do Horário de Verão, certo? Pois é exatamente isso que aconteceria se você configurasse o seu alarme pelo horário UTC.</p>

<h2 id="3-não-validar-entrada-dos-usuários">3. Não Validar Entrada dos Usuários</h2>

<p>Imagine que você criou uma aplicação desktop simples que permite que usuários configurem lembretes. A pessoa informa a data e hora que quer receber o lembrete, clica em um botão, e pronto.</p>

<p>Tudo parece estar funcionando direito até que alguém do Brasil envia um e-mail para você, reclamando que o lembrete que ela configurou para 15 de outubro às 0h15 não funcionou. O que será que aconteceu?</p>

<h3 id="o-horário-de-verão-contra-ataca">O Horário de Verão Contra Ataca</h3>

<p>O vilão aqui é o bom e velho Horário de Verão novamente. Em 2017, o Horário de Verão no Brasil começou à meia-noite do dia 15 de outubro. Então, a combinação de data e hora que a usuária informou <strong>simplesmente não existe em seu fuso-horário!</strong></p>

<p>É claro que o problema oposto também é possível. Quando o Horário de Verão chega ao fim e os relógios são atrasados, isso <strong>gera horas ambíguas</strong>.</p>

<h3 id="qual-é-a-solução">Qual É A Solução?</h3>

<p>Como lidar com esse tipo de problema no C#? A classe <code class="highlighter-rouge">TimeZoneInfo</code> pode lhe salvar. Ela serve para representar um fuso horário e também oferece métodos para verificar se um determinado objeto <code class="highlighter-rouge">DateTime</code> é válido:</p>

<script src="https://gist.github.com/carlosschults/2b94d57390b3518294730c01003f159c.js"></script>

<p>Mas o que fazer então? O que deveria substituir os comentários “do something” nos trechos acima?</p>

<p>Você poderia mostrar uma mensagem dizendo que a data informada é inválida. Ou você poderia escolher outra data para a pessoa automaticamente.</p>

<p>Vamos abordar o caso das horas inválidas primeiro. Suas opções são: mover para frente ou para trás. É uma decisão meio arbitrária, então qual você deve escolher? Por exemplo, o app do Google Calendar no Android move para frente. E até que faz sentido se você parar pra pensar. Isso é exatamente o que seus relógios fizeram devido ao horário de verão. Por que sua aplicação não pode fazer o mesmo?</p>

<p>E no caso das horas ambíguas? Você também tem duas opções: escolher entre a primeira e segunda ocorrências. Novamente, é meio arbitrário, mas eu aconselho você a escolher a primeira ocorrência, pelo simples fato de tornar as coisas mais simples.</p>

<h2 id="4-confundir-um-offset--com-um-fuso-horário">4. Confundir um <em>Offset</em>  com um Fuso Horário</h2>

<p>Considere o timestamp a seguir: 1995-07-14T13:05:00.0000000-03:00. Quando alguém pergunta o que o “-03:00” no final é chamado, muita gente responde “o fuso horário”.</p>

<p>A questão é essa. Essas pessoas provavelmente assumem corretamente que o número representa o offset, ou deslocamento, em relação a UTC. Também é provável que elas sabem que podem reconstruir a hora correspondente em UTC por meio desse offset. (Muitos desenvolvedores não entendem que, em uma string assim, o offset já está aplicado: para obter o tempo em UTC, você deve inverter o sinal do offset. E só depois, aplicá-lo ao valor da hora).</p>

<p>O erro está em achar que o offset é a única informação que um fuso horário representa. Mas não é. Um fuso horário é uma área geográfica, e contém muitas informações, tais como:</p>

<ul>
  <li>Um ou mais offsets. (Horário de verão existe, afinal de contas.)</li>
  <li>As datas nas quais as transições do horário de verão acontecem. (As quais podem mudar e mudam, sempre que os políticos resolvem).</li>
  <li>A quantidade de tempo pelo qual os relógios são atrasados ou adiantados na transição. (Não é uma hora em todo lugar.)</li>
  <li>O registro histórico das mudanças nas regras acima.</li>
</ul>

<p>Em resumo: não tente adivinhar um fuso horário pelo offset. Você vai errar a maioria das vezes.</p>

<h2 id="quer-aprender-sobre-tempo-já-não-era-sem-tempo">Quer aprender sobre tempo? Já não era sem tempo!</h2>

<p>Esta lista não é de forma alguma exausitiva. Eu apenas quis oferecer a vocês uma introdução ao fascinante e meio bizarro mundo dos problemas com hora e data em programação. Há muitos recursos valiosos por aí, como<a href="https://stackoverflow.com/tags/timezone/info">a tag time zone no Stack Overflow</a> ou blogs como <a href="https://codeblog.jonskeet.uk/">o de Jon Skeet</a> e <a href="https://codeofmatt.com/">o de Matt Johnson</a> que são autores da popular biblioteca NodaTime.</p>

<p>E finalmente, sempre use as ferramentas que estão à sua disposição. Por exemplo, <a href="https://blog.submain.com/codeit-right-rules-explained-part-2/">o produto da SubMain chamado CodeIt.Right</a> tem uma regra que você a especificar um <code class="highlighter-rouge">IFormatProvider</code> em situações nas quais é opcional, o que pode acabar salvando você de bugs difíceis ao fazer tratamento de datas.</p>

    <a href="/pt/4-erros-comuns-datetime-csharp/">leia mais...</a>
   </div>
  
  
  
  
  
  
  
  
  
  
    <span class="post-meta"><time datetime='24-01-2018'>24/01/2018</time></span> 
    <h2>
          <a class="post-link" href="/pt/revisao-codigo-vs-programacao-em-par/">Revisão de Código vs Programação em Par: Qual a sua equipe deve escolher?</a>
    </h2>
    <div class="post-content">
    <p><img src="http://res.cloudinary.com/dz5ppacuo/image/upload/v1516470435/code-review-vs-pair-programming1038x437_w99q2t.jpg" alt="" /></p>

<p><em>NOTA: Eu escrevi este post originalmente para o blog da SubMain. Você pode <a href="https://blog.submain.com/code-review-vs-pair-programming-2/">conferir o artigo original no site deles, em inglês</a>. Enquanto estiver por lá, dê uma conferida no CodeIt.Right, uma ferramenta que pode lhe ajudar com automação de revisões de código.</em></p>

<p>Algumas semanas atrás, eu estava olhando o Twitter quando vi isso:</p>

<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr">Pair Programming &gt; Code Review</p>&mdash; Rafael Ponte (@rponte) <a href="https://twitter.com/rponte/status/932390250848178176?ref_src=twsrc%5Etfw">November 19, 2017</a></blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>O que se seguiu foi uma breve discussão entre o autor e eu. Ele apresentou bons argumentos, mas eu continuei não convencido de que programação em par (<em>pair programming</em>) era um vencedor tão óbvio.</p>

<p>Como eu já havia implementado práticas de revisão de código (<em>code review</em>) com sucesso e também pareado até certo ponto, eu não tinha dificuldades em ver como as duas práticas podem ser valiosas. Mas será que uma deles é claramente <em>melhor</em> que a outra? Revisão de código e programação em par são intercambiáveis, ou há cenários em que um ou outro claramente se destaca?</p>

<p>É o que vou responder hoje. Vamos lá.</p>

<h2 id="o-que-quero-dizer-por-revisão-de-código">O que quero dizer por “Revisão de Código”</h2>

<p>Imagine a seguinte cena: você é um(a) jovem programador(a) em seu primeiro trabalho com desenvolvimento de software. Após terminar sua primeira tarefa, você é convocado(a) a uma sala de reunião; lá você encontra o desenvolvedor líder e três desenvolvedores seniores. Um monitor enorme está ligado exibindo seu código. Hora da revisão!</p>

<p>Durante duas horas e meia sofridas, seu código é julgado sem só enquanto você sua profusamente. Desde suas decisões de projeto até as mais triviais preferências estilísticas, nada escapa da enxurrada de críticas.</p>

<p>É essa a cena exibida na sua mente quando você vê as palavras “revisão de código”?</p>

<p>Boa notícias pra você, então. Este <em>não</em> é o tipo de revisão de código sobre o qual estou falando. Ao invés, pense em um processo bem leve e informal. Você submete seu código para revisão criando um pull request ou mesmo usando alguma funcionalidade incorporada na sua IDE.</p>

<h3 id="a-parte-boa">A parte boa</h3>

<p>Após tocar brevemente no “o que” e no “como” de uma revisão de código, hora de abordarmos o “por que”. Por que o seu time deve adotar a prática? Quais são os benefícios?</p>

<p>A primeira razão, não surpreendentemente, é <strong>detectar bugs</strong>. Eu aposto que você é familiar com aquela velha pérola de sabedoria que diz que <a href="https://www.cs.umd.edu/projects/SoftEng/ESEG/papers/82.78.pdf">quanto mais tarde um defeito é encontrado, maior é o custo para sua resolução</a>. Sendo assim, por que não usar um processo relativamente barato que pode encontrar <a href="https://www.cs.umd.edu/projects/SoftEng/ESEG/papers/82.78.pdf">até 60% dos defeitos</a>?</p>

<p>Outra razão para a sua empresa adotar revisões de código: melhorar a <strong>legibilidade do código</strong>. Tentar ler e entender um trecho novo de código frequentemente leva à descoberta de problemas como:</p>

<ul>
  <li>Nomes ruins.</li>
  <li>Indentação errada.</li>
  <li>Ocorrências de <a href="https://en.wikipedia.org/wiki/Cargo_cult_programming">programação cargo cult</a>.</li>
  <li>Código não idiomático.</li>
</ul>

<p>O revisor também pode encontrar <em>corner cases</em> que passaram despercebidos ou ajudar na avaliação de performance do código escrito.</p>

<p>E chegamos à última razão. Uma revisão de código bem feita pode <strong>espalhar conhecimento pelo time.</strong> Isso destrói ilhas de conhecimento na equipe, melhorando a qualidade final do produto.</p>

<h3 id="a-parte-ruim">A parte ruim</h3>

<p>Enquanto alguns dizem que a revisão de código é a <a href="https://blog.codinghorror.com/code-reviews-just-do-it/">prática mais importante que você deve adotar</a> para aperfeiçoar seu código, <a href="https://blog.nelhage.com/2010/06/i-hate-code-review/">tal entusiasmo não é universal</a>. Assim, não poderíamos deixar de falar também das potenciais desvantagens da prática.</p>

<p>A queixa mais comum sobre revisão de código tem a ver com <strong>tempo</strong>. Quando você envia algum código para revisão, você obviamente precisa esperar até que a revisão seja finalizada.</p>

<p>O que fazer durante a espera? Idealmente, sua equipe deveria quebrar o trabalho disponível em unidades pequenas e discretas, que possam ser resolvidas de maneira mais ou menos independente. Nem sempre isso é prático, porém. E falando nisso, <strong>a própria troca constante de tarefas pode ser prejudicial para seu foco e produtividade</strong>.</p>

<p>Digamos que o Bruno gastou <em>x</em> horas implementando uma funcionalidade. Então a Ana revisa o trabalho dele e diz que a implementação está completamente errada, e ele precisa refazer tudo. <strong>Aquelas <em>x</em> horas de desenvolvimento acabaram de ir para o lixo</strong>.</p>

<p>Finalmente, às vezes as pessoas desperdiçam quantidades ridículas de tempo <strong>discutindo sobre detalhes estéticos inúteis</strong>, como a posição das chaves, ou se devem ou não incluir um underscore no nome de um campo privado. Infelizmente, debates idiotas assim às vezes escalam para níveis que tornam o local de trabalho tóxico.</p>

<h2 id="programação-em-par-mais-que-uma-super-revisão-de-código">Programação em Par: Mais que uma super revisão de código</h2>

<p>Programação em par é uma técnica na qual duas pessoas colaboram no código juntas, na mesma estação de trabalho.</p>

<p>Elas periodicamente revezam em dois papéis. O <em>piloto</em> escreve o código, pensando em voz alta para explicar suas decisões e o que está pensando. O <em>navegador</em> observa o piloto, dando feedback e opiniões em tempo real.</p>

<p>Seria a programação em par nada mais que “<em>code review on steroids</em>”, <a href="https://blog.codinghorror.com/pair-programming-vs-code-reviews/">como coloca Jeff Atwood</a>?</p>

<p>Talvez não. Um dos princípios básicos das metologias ágeis é que o desenvolvimento de software se beneficia de ciclos de feedback curtos. Levando isso em consideração, trazer a revisão de código para o mais cedo possível no processo faria bastante sentido, por estar em harmonia com os princípios ágeis.</p>

<h3 id="a-parte-boa-1">A parte boa</h3>

<p>Não deveria ser surpresa que a programação em par compartilha vários dos benefícios da revisão de código, como detecção de bugs, melhoras na legibilidade do código e propagação de conhecimento pela equipe.</p>

<p>Mas a programação em par também pode oferecer benefícios exclusivos, tais como:</p>

<ul>
  <li><strong>Mais foco</strong>. A presença de um colega ao lado pode exercer uma certa pressão, lhe mantendo motivado na tarefa a ser realizada.</li>
  <li><strong>Ciclos de feedback mais curtos.</strong>. Já que seu par está revisando seu código o tempo todo, existe um risco muito menor de desperdiçar tempo graças a feedback tardio.</li>
  <li><strong>Aumento no uso de outras boas práticas da Engenharia de Software</strong>. Como sugerido por um estudo realizado na Universidade Estadual da Carolina do Norte, <a href="https://collaboration.csc.ncsu.edu/laurie/Papers/ESE%20WilliamsPairProgramming_V2.pdf">equipes usando programação em par tendem a usar mais práticas de desenvolvimento como testes unitários, integração contínua e a criação de padrões de código</a>.</li>
</ul>

<h3 id="a-parte-ruim-1">A parte ruim</h3>

<p>Assim como no caso da revisão de código, programação em par está longe de ser uma prática universalmente aceita. Enquanto muitas pessoas amam a prática, <a href="https://web.archive.org/web/20110101145142/https://tersesystems.com/2010/12/29/where-pair-programming-fails-for-me">outras não têm histórias tão felizes para contar</a></p>

<p>Vamos começar com uma reclamação comum: programação em par <strong>pode ser extremamente cansativa</strong>. Na verdade, não é incomum ourvir que <a href="https://softwareengineering.stackexchange.com/a/9518">parear é mais eficaz quando usado por blocos de tempo curtos — de 1 hora a 2 horas e meia.</a></p>

<p>Evidentemente, um número ímpar de integrantes na equipe não combina muito bem com programação em par. Mas um número flutuante de pessoal disponível é inevitável.</p>

<p>O próximo item na nossa lista de problemas é o fato de que programação em par não é muito compatível com trabalho remoto. Você pode ter uma ideia melhor do problema após ouvir o que Daniel Kaplan, que escreveu “<a href="https://builttoadapt.io/what-its-like-to-pair-for-a-year-86d048494324">What It’s Like to Pair for a Year</a>,” tem a dizer sobre programação em par:</p>

<blockquote>
  <p>These scheduling interruptions happen, but on a typical day we avoid them by having the pairs show up at the same time (for breakfast and standup), go to lunch at the same time, and leave at the same time. This maximizes the time the pairs are pairing.</p>
</blockquote>

<p>Em tradução livre, com grifo meu:</p>

<blockquote>
  <p>Tais interrupções ocorrem, mas em um dia típico nós conseguimos evitá-las <strong>fazendo com que os pares cheguem na mesma hora (para café da manhã e reunião em pé), vão almoçar no mesmo horário, e vão para casa no mesmo horário</strong>. Isso maximiza o tempo que os pares passam programando juntos.</p>
</blockquote>

<p>Então, programação em par <strong>requer sincronismo</strong>, o que pode torná-la uma opção inviável para equipes remotas (ou mesmo equipes que trabalham no mesmo local mas tem horários extremamente flexíveis).</p>

<p>Tem gente que argumenta que trabalhar em pares pode <strong>prejudicar a criatividade e impedir experimentações.</strong> Durante uma sessão em par, pode ser considerado rude desperdiçar o tempo de seu par tentando uma abordagem experimental que pode talvez não dar em nada. Então, a decisão mais segura possível tende a prevalecer sempre, mesmo que não seja a melhor possível.</p>

<p>Finalmente, a programação em par não fornece um dos benefícios chave da revisão de código posterior: ter uma pessoa com zero contexto analisando o código produzido. As duas pessoas do par <strong>compartilham contexto desde o início da sessão</strong>, o que não deve ser subestimado. As pessoas têm uma tendência a <a href="https://en.wikipedia.org/wiki/IKEA_effect">superestimar o valor de suas contribuições e criar laços emocionais com o que elas criam</a>; por isso é tão importante conseguir uma outra pessoa que, livre desses laços, será capaz de oferecer um julgamento mais claro.</p>

<h2 id="revisão-de-código-vs-programação-em-par-o-veredito">Revisão de Código vs Programação em Par: O Veredito?</h2>
<p>Eu cheguei à conclusão de que, embora revisão de código e programação em par <em>pareçam</em> equivalentes, na verdade não são. Existe uma intersecção ali, mas cada prática também apresenta benefícios e desafios únicos.</p>

<p>Não tem como fugir do fato de que programação em par, apesar de seus benefícios, requer um número par de pessoas, trabalhando ao mesmo tempo. Se seu time consiste de pessoas vivendo em diversos fusos horários diferentes (ou mesmo uma equipe local mas com horário flexível), é fácil decidir: revisão de código na cabeça.</p>

<p>Se a sua equipe não se encaixa na descrição acima, então eu digo: <strong>faça uma tentativa com programação em par</strong>. Contanto que você se esforce para acomodar e ter empatia com <a href="https://www.amazon.com/Quiet-Power-Introverts-World-Talking/dp/0307352153/ref=asap_bc?ie=UTF8">diferentes tipos de personalidades</a> e não torne obrigatório, programação em par pode ser benéfica para sua equipe.</p>

<p>Finalmente, não há nada lhe impedindo de usar <em>ambas</em> práticas. Você pode adotar programação em par como o <em>Modus Operandi</em> padrão e deixar e revisão de código para preencher os vácuos onde o pareamento não funciona tão bem.</p>

<h2 id="de-um-jeito-ou-de-outro-abrace-a-automação">De um jeito ou de outro, abrace a automação</h2>
<p>Imagine que você escreve para uma publicação, como uma revista. Após finalizar um rascunho, ele precisa ser submetido para revisão. Será que faz sentido para a editora gastar todo seu tempo procurando por erros de ortografia? É claro que não! Nós temos ferramentas para checar tais erros de forma automática, liberando a editora para procurar por problemas em um nível mais alto, como vocabulário mal escolhido, falta de coesão, tom inapropriado, e todas aquelas coisas sobre as quais a sua professora de português não dava sossego.</p>

<p>Com software não é diferente. Ao usar <a href="https://submain.com/products/codeit.right.aspx">uma ferramenta de revisão de códigos automatizados</a>, você pode eliminar muitas das discussões inúteis que acontecem frequentemente em revisões de código ou sessões de programação em par. Não vai ter mais briga sobre convenções estéticas e de nomenclatura, posição de chaves e outras trivialidades inúteis.</p>

<p>You can also employ a static analysis tool to warn you about potential bugs and opportunities for refactoring. That way, the reviewer/navigator is free to focus on the high-level stuff that requires human creativity, intelligence, and empathy.</p>

<p>Você também pode usar uma ferramenta de análise estática para lhe alertar sobre potenciais bugs e oportunidades para refatoração. Assim, o revisor/navegador fica livre para focar em preocupações de mais alto nível que necessitam da criatividade, inteligência e empatia humanas.</p>

<h2 id="confiança-e-respeito">Confiança e respeito</h2>
<p>Quando estava pesquisando para escrever esse post, um tema aparecia bastante: pessoas afirmando que revisão de código surge devido à falta de confiança em nossos desenvolvedores ou que programação em par os infantiliza.</p>

<p>Eu não poderia discordar mais.</p>

<p>É exatamente por respeitarmos nossos colegas e clientes que devemos empregar técnicas e ferramentas à nossa disposição para melhorar a qualidade do trabalho que produzimos.</p>

<p>Não é falta de confiança. É reconhecer que programar é difícil e às vezes, só um cérebro pode não dar conta do recado.</p>


    <a href="/pt/revisao-codigo-vs-programacao-em-par/">leia mais...</a>
   </div>
  
  
  
  
  
  
  
  
  
  
  
  
    <span class="post-meta"><time datetime='17-01-2018'>17/01/2018</time></span> 
    <h2>
          <a class="post-link" href="/pt/cargo-cult-programming/">Programação Cargo Cult É A Arte de Programar Por Coincidência</a>
    </h2>
    <div class="post-content">
    <p><img src="http://res.cloudinary.com/dz5ppacuo/image/upload/v1516152067/cargo-cult-programming-1037x438_spoxet.jpg" alt="" /></p>

<p><em>NOTA: Eu escrevi este post originalmente para o blog da NDepend. Você pode <a href="https://blog.ndepend.com/cargo-cult-programming/">clicar aqui para ler o artigo original no site deles, em inglês</a>. Enquanto estiver por lá, baixe e experimente o NDepend.</em></p>

<p>Eu ouvi falar em programação cargo cult a primeira vez há alguns anos. Eu me lembro de ter pensado na época: “Que nome estranho para um conceito relacionado com programação”.</p>

<p>Se você compartilha do estranhamento do meu “eu” do passado, o post de hoje é para você.</p>

<p>Primeiramente, você verá o que programação cargo cult é e por que você deve se importar. Então, vamos dar uma olhada em alguns exemplos práticos, usando a linguagem C#. Finalmente, nós encerraremos com conselhos sobre o que você pode fazer para não cair nessa armadilha.</p>

<h2 id="programação-cargo-cult-fazendo-as-coisas-porque-sim">Programação Cargo Cult: Fazendo as coisas porque sim.</h2>

<p>Segundo a versão em inglês da <a href="https://en.wikipedia.org/wiki/Cargo_cult_programming">Wikipedia</a></p>

<blockquote>
  <p>Cargo cult programming is a style of computer programming characterized by the ritual inclusion of code or program structures that serve no real purpose.</p>
</blockquote>

<p>Em tradução livre</p>

<blockquote>
  <p>Programação <em>cargo cult</em> é um estilo de programação de computadores caracterizado pela inclusão ritualística de código ou estruturas de programação que não servem nenhum propósito real.</p>
</blockquote>

<p>Em outras palavras, é quando um(a) desenvolvedor(a) escreve código sem entender realmente o que aquele código faz. Talvez uma abordagem por tentativa e erro tenha sido usada - copia o código de um lugar, cola em outro, e vai mexendo e testando até que funciona, mais ou menos. Quando chega nesse ponto a pessoa geralmente para de mexer no código, por medo de fazer parar de funcionar. No processo, talvez sobrem resquícios de código que não servem realmente para nada.</p>

<p>Ou talvez a pessoa tenha tentado usar uma técnica aprendida com um colega, mas falhou em compreender que os conceitos são diferentes e que a tal técnica é inútil na situação atual.</p>

<p>Por fim, também é possível que o problema seja simplesmente educação insuficiente: talvez o desenvolvedor tenha um entendimento pobre a respeito de como as ferramentas usadas funcionam.</p>

<h2 id="por-que-a-programação-cargo-cult-é-um-problema">Por que a programação <em>cargo cult</em> é um problema?</h2>
<p>Como Eric Lippert diz, <a href="https://blogs.msdn.microsoft.com/ericlippert/2004/03/01/syntax-semantics-micronesian-cults-and-novice-programmers/">programadores cargo cult sofrem para fazer alterações significativas em um programa</a> e acabam usando uma abordagem de tentativa e erro já que eles não entendem o funcionamento interno do código que estão prestes a alterar.</p>

<p>Isso não é tão diferente do que os <a href="https://pragprog.com/the-pragmatic-programmer/extracts/coincidence">programadores pragmáticos chamam de “programação por coincidência”</a>:</p>

<blockquote>
  <p>Fred doesn’t know why the code is failing because he didn’t know why it worked in the first place. It seemed to work, given the limited “testing” that Fred did, but that was just a coincidence.</p>
</blockquote>

<p>Em tradução livre:</p>

<blockquote>
  <p>Fred não sabe porque o código está falhando porque ele não sabe porque ele funcionou da primeira vez. Parecia estar funcionando, com o “teste” limitado que Fred fez, mas era apenas uma coincidência.</p>
</blockquote>

<p>A frase acima resume tudo para mim: se você não sabe como ou por que seu código funciona, você também não vai entender o que aconteceu quando ele parar de funcionar.</p>

<h2 id="origem-do-termo">Origem do termo</h2>
<p>Embora práticas que são consideradas “culto à carga” (<em>cargo cult</em>) atualmente <a href="https://en.wikipedia.org/wiki/Cargo_cult#First_occurrences">tenham sido registradas tão cedo quanto o final do século XIX</a>, o termo em si data de 1945, quando foi usado pela primeira vez para descrever práticas que surgiram durante e depois da Segunda Guerra Mundial entre habitantes da Melanésia.</p>

<p>Os nativos começaram a imitar o comportamento dos soldados, vestindo-se como controladores de voo e balançando gravetos, na esperança de que isso faria com que aviões carregados de suprimentos descessem dos céus.</p>

<p>Desde então, o termo culto à carga tem sido usado em uma variedade de contextos para significar <strong>imitar forma sem conteúdo</strong> - copiar perfeitamente os elementos superficiais mas ao mesmo tempo falhando em entender de maneira mais profunda o significado e funcionamento do que se está tentando emular.</p>

<h2 id="falar-é-fácil-me-mostre-o-código">Falar é fácil; me mostre o código!</h2>
<p>Chega da aula de História por hoje. Hora de ver código! Eu vou mostrar cinco exemplos de programação cargo cult usando a linguagem C#. Vamos lá.</p>

<h3 id="checar-um-tipo-de-valor-não-nulável-for-null">Checar um tipo de valor não-nulável for <em>Null</em></h3>
<p>O primeiro item é algo que me incomoda já que eu vejo isso bastante em código de produção. É algo assim:</p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#">	<span class="k">public</span> <span class="n">Product</span> <span class="nf">Find</span><span class="p">(</span><span class="kt">int</span> <span class="n">id</span><span class="p">)</span>
	<span class="p">{</span>
   	   <span class="k">if</span> <span class="p">(</span><span class="n">id</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="c1">// essa verificação é inútil</span>
	   <span class="p">{</span>
	       <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"Esta linha sempre será executada."</span><span class="p">);</span>
	   <span class="p">}</span>
	
	   <span class="k">return</span> <span class="k">new</span> <span class="nf">Product</span><span class="p">();</span>
	<span class="p">}</span></code></pre></figure>

<p>Aqui nós temos o caso de um(a) desenvolvedor(a) que provavelmente não entende a <a href="http://carlosschults.net/pt/tipos-valor-referencia-em-csharp/">diferença entre tipos de valor e referência</a>. Seria completamente perdoável, no caso de um profissional iniciante, se não fosse pelo fato de que o compilador te avisa disso.</p>

<p>Você pode achar isso um exagero da minha parte. Afinal de contas, o código vai rodar perfeitamente mesmo assim. Na verdade, a verificação não será nem ao mesma incluída no IL resultante, como você pode ver nesse print de uma ferramenta de descompilação:</p>

<p><img src="http://res.cloudinary.com/dz5ppacuo/image/upload/v1515684957/just-decompile1_qk69k2.png" alt="Uma imagem mostrando um trecho de código que não contem a checagem de nulo." /></p>

<p>Você pode ver no trecho de código acima que o compilador otimizou o código, removendo a checagem por nulo.</p>

<p>Tem problemas muito piores, claro. Sim, a aplicação não vai <em>quebrar</em> por causa disso. Então, qual é o ponto?</p>

<p>Bom, pra começo de conversa, eu me preocuparia com uma empresa de desenvolvimento cujo único critério de qualidade é “roda sem quebrar”. Mas o problema de verdade aqui é que esse tipo de código demonstra uma falta de entendimento sobre características fundamentais da linguagem e da plataforma que podem lhe causar problemas no futuro.</p>

<h3 id="uso-desnecessário-de-tolist-em-consultas-do-linq-to-object">Uso Desnecessário de <code class="highlighter-rouge">ToList()</code> em consultas do LINQ to Object</h3>
<p>Assim como o problema anterior, o item atual é algo que eu rotineiramente vejo em código de produção. Considere o código abaixo:</p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#">	<span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">users</span><span class="p">.</span><span class="nf">ToList</span><span class="p">()</span>
	<span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">PremiumUser</span><span class="p">)</span>
	<span class="p">.</span><span class="nf">ToList</span><span class="p">()</span>
	<span class="p">.</span><span class="nf">Select</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span> <span class="n">Birth</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="n">DateOfBirth</span> <span class="p">})</span>
	<span class="p">.</span><span class="nf">ToList</span><span class="p">();</span></code></pre></figure>

<p>O problema que temos aqui é que as chamadas ao método <code class="highlighter-rouge">ToList()</code> são totalmente desnecessárias (exceto talvez a última, caso você realmente precisasse que o resultado fosse um lista e não apenas um <code class="highlighter-rouge">IEnumerable</code>).</p>

<p>Em minha experiência, isso acontece quando quem escreveu o código não entende bem a natureza do LINQ; eles erroneamente acham que os métodos do LINQ pertencem ao tipo concreto <code class="highlighter-rouge">List&lt;T&gt;</code> ao invés de serem métodos de extensão que podem ser usados com qualquer implementação de <code class="highlighter-rouge">IEnumerable&lt;T&gt;</code>.</p>

<p>Ao chamar <code class="highlighter-rouge">ToList()</code> diversas vezes dessa forma, o desenvolvedor na verdade cria diversas listas novas, o que pode prejudicar o desempenho da aplicação.</p>

<p>O código acima pode ser reescrito da seguinte forma:</p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#">	<span class="kt">var</span> <span class="n">result</span> <span class="p">=</span> <span class="n">users</span><span class="p">.</span><span class="nf">Where</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">PremiumUser</span><span class="p">).</span><span class="nf">Select</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="k">new</span> <span class="p">{</span> <span class="n">Name</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span> <span class="n">Birth</span> <span class="p">=</span> <span class="n">x</span><span class="p">.</span><span class="n">DateOfBirth</span> <span class="p">});</span></code></pre></figure>

<h3 id="conversões-desnecessárias">Conversões Desnecessárias</h3>
<p>Considere a linha seguinte:</p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#">	<span class="n">DateTime</span> <span class="n">creationDate</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s">"creation_date"</span><span class="p">].</span><span class="nf">ToString</span><span class="p">());</span></code></pre></figure>

<p>Aqui temos não apenas uma mas duas conversões desnecessárias. Primeiro, criamos uma nova string e então a “parseamos” para <code class="highlighter-rouge">DateTime</code> quando um simples <em>cast</em> seria suficiente:</p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#">	<span class="n">DateTime</span> <span class="n">creationDate</span> <span class="p">=</span> <span class="p">(</span><span class="n">DateTime</span><span class="p">)</span><span class="n">row</span><span class="p">[</span><span class="s">"creation_date"</span><span class="p">];</span></code></pre></figure>

<p>Esse exemplo assume que o tipo no banco de dados é um tipo específico para lidar com datas (como <code class="highlighter-rouge">date</code> ou <code class="highlighter-rouge">datetime</code> no SQL Server). É claro que se você estivesse usando um tipo inadequado (como <code class="highlighter-rouge">varchar</code>) então isso já seria um outro problema.</p>

<h3 id="try-catch-em-todo-lugar"><code class="highlighter-rouge">Try-Catch</code> em todo lugar</h3>
<p>Também conhecido como síndrome Pokémon (“Gotta catch’em all!”), o <em>anti-pattern</em> aqui é adicionar um bloco <code class="highlighter-rouge">try-catch</code> em cada linha em que exista a remota possibilidade de uma exceção ser disparada.</p>

<p>Pontos bônus se o código estiver tentando capturar <code class="highlighter-rouge">System.Exception</code> ao invés de uma exceção mais específica, acabando com a distinção entre erros esperados e não esperados.</p>

<p>Mais pontos se o bloco do <code class="highlighter-rouge">catch</code> não conter código nenhum!</p>

<p>A dica geral aqui é: jamais capture uma exceção a não ser que você tenha uma razão muito específica para fazê-lo. Do contrário, deixe que a exceção suba até que o gerenciador de exceções geral no nível mais alto lide com ela.</p>

<p>Se esse conselho parece vago (“Como vou saber se eu tenho uma boa razão para capturar a exceção?”), é porque de fato é. Explorar esse tema mais a fundo iria além do escopo desse post, , mas <a href="https://blogs.msdn.microsoft.com/ericlippert/2008/09/10/vexing-exceptions/">ler o excelente artigo do Eric Lippert chamado “Vexing Exceptions”</a> vai aumentar e muito o seu entendimento sobre exceções.</p>

<h3 id="usar-stringbuilder-demais">Usar <code class="highlighter-rouge">StringBuilder</code> Demais</h3>
<p>Você já deve ter visto o filme: depois de ler em algum lugar que concatenar strings usando <code class="highlighter-rouge">+</code> é ineficiente, nosso intrépido desenvolvedor resolve tomar pra si a tarefa hercúlea de mudar cada concatenação de string no projeto para o uso de <code class="highlighter-rouge">StringBuilder</code>.</p>

<p>A justificativa para isso, claro, é que <code class="highlighter-rouge">System.String</code> é imutável. Então, cada vez que você “muda” a string, você na verdade está criando uma instância nova na memória, o que pode prejudicar o desempenho da aplicação.</p>

<p>Mas adivinha só. O compilador é bem esperto. Digamos que você tenha a seguinte linha:</p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#">	<span class="kt">string</span> <span class="n">a</span> <span class="p">=</span> <span class="s">"Hello "</span> <span class="p">+</span> <span class="s">"World"</span><span class="p">;</span></code></pre></figure>

<p>Isso vai ser no fim das contas traduzido para:</p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#">	<span class="kt">string</span> <span class="n">a</span> <span class="p">=</span> <span class="s">"Hello World"</span><span class="p">;</span></code></pre></figure>

<p>A regra geral é: tudo bem usar concatenação simples se você sabe o número de strings a anexar em tempo de compilação. Do contrário, <a href="https://stackoverflow.com/a/21644889">o uso de <code class="highlighter-rouge">StringBuilder</code> provavelmente faz mais sentido</a>.</p>

<p>Lógico, alguns cenários não são tão claros assim. O único conselho que faz sentido dar aqui é: faça seu dever de casa. Quando estiver com dúvida, pesquise e faça <em>benchmark</em> sem dó.</p>

<p>Eu termino com mais uma dica sensata do Eric Lippert:</p>

<blockquote>
  <p>Unnecessary code changes are expensive and dangerous; <strong>don’t make performance-based changes unless you’ve identified a performance problem.</strong></p>
</blockquote>

<h2 id="existe-solução">Existe Solução?</h2>
<p>Eu diria que é justo supor que pessoas com menos experiência são mais propensas a cometer erros devido à programação cargo cult. Mas desenvolvedor nenhum está realmente a salvo, independentemente de seu nível de conhecimento ou experiência.</p>

<p>Nós somos apenas humanos no fim das contas. Cansaço, prazos, vieses cognitivos e (para ser realmente honesto) a preguiça eventual pode transformar até o melhor de nós em um programador cargo cult.</p>

<p>Infelizmente, não há uma maneira 100% garantida de impedir isso de acontecer. Mesmo assim, aqui vão algumas medidas que você pode tomar para, ao menos, diminuir as chances.</p>

<p>Vamos ver algumas delas.</p>

<h3 id="use-revisão-de-códigoprogramação-em-par">Use Revisão de Código/Programação em Par</h3>
<p>A primeira medida que você pode tomar para evitar o cargo cult é simplesmente ter uma segunda pessoa olhando seu código. Os benefícios de ter uma outra pessoa revisando cada linha de código antes que ela chegue em produção não podem ser subestimados. E embora <a href="https://blog.submain.com/code-review-vs-pair-programming-2/">revisão de código e programação em par não são exatamente equivalentes</a>, ambas as práticas podem lhe trazer esse benefício.</p>

<h3 id="sempre-teste-suas-hipóteses">Sempre Teste Suas Hipóteses</h3>
<p>Escreva <a href="http://carlosschults.net/pt/testes-unitarios-iniciantes-parte1">testes de unidade</a> (e outros tipos de testes também). Monitore sua aplicação em produção. Se algo não está tendo um bom desempenho, faça <em>benchmarks</em> exaustivos. Não faça só suposições. Testar as suas hipóteses pode trazer <em>insights</em> valiosos e salvar a sua pele naqueles momentos em que a sua intuição não for certeira.</p>

<h3 id="leia-código-de-outras-pessoas">Leia Código de Outras Pessoas</h3>
<p>Ler código escrito por outras pessoas é uma ótima maneira de aprender. É uma ferramenta perfeita para comparar suas ideias e suposições contra o que outros desenvolvedores estão fazendo, expondo você a novos conceitos que podem lhe forçar a ganhar um entendimento maior dos problemas que está tentando resolver.</p>

<p>Na era do <a href="http://github.com/">GitHub</a>, não tem muita desculpa para não fazer isso.</p>

<h3 id="aprenda-com-suas-ferramentas">Aprenda Com Suas Ferramentas</h3>
<p>Existe um número enorme de ferramentas que podem ajudar <a href="https://www.ndepend.com/">sua equipe com a qualidade do seu código</a>. Aqui vai a dica principal: você não deve só usar essas ferramentas. Você deve também aprender com elas. Se você usa NDepend, <a href="https://www.ndepend.com/default-rules/webframe.html">leia sobre suas regras</a>. Tente entender a justificativa por trás de cada uma delas. Quais são os princípios e boas práticas que guiaram seus autores durante a criação delas?</p>

<p>A mesma dica vale para outros tipos de ferramentas, e até para os warnings que o compilador lhe mostra.</p>

<h2 id="ciência-da-computação-não-superstição-da-computação">Ciência da Computação, Não <em>Superstição</em> da Computação</h2>
<p>Embora ninguém seja imune à programação cargo cult, nós devemos nos esforçar para superá-la. Há sabedoria na nossa área à nossa disposição, acumulada lentamente ao longo de mais de 7 década. Vamos usá-la. Vamos entender melhor nossas ferramentas e nossa profissão e escrever software de qualidade.</p>

    <a href="/pt/cargo-cult-programming/">leia mais...</a>
   </div>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  



      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">
    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">         
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/carlosschults"><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">carlosschults</span></a>

          </li>
          

          
          <li>
            <a href="https://twitter.com/carlosschults"><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg>
</span><span class="username">carlosschults</span></a>

          </li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>Artigos sobre desenvolvimento de software, banco de dados e vários assuntos ligados à tecnologia.</p>
      </div>
    </div>

  </div>

</footer>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92788641-1', 'auto');
  ga('send', 'pageview');

</script>

  </body>

</html>
